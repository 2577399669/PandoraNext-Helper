import{r as e,V as t,ab as r,aa as s,$ as a,Z as o,aj as n,by as i,aL as l,W as c,a6 as p,a0 as g,Y as m,j as d}from"./index-bf9e6d4f.js";import{f as u}from"./index-80005faf.js";import{L as f}from"./index-8d02fb9b.js";import{P as h}from"./index-97abac36.js";import"./extendsObject-8d078517.js";import"./Pagination-2f975caa.js";import"./row-9f8f79ca.js";const b=e.createContext({}),x=e=>{const{antCls:t,componentCls:r,iconCls:a,avatarBg:o,avatarColor:n,containerSize:i,containerSizeLG:l,containerSizeSM:c,textFontSize:p,textFontSizeLG:g,textFontSizeSM:m,borderRadius:d,borderRadiusLG:u,borderRadiusSM:f,lineWidth:h,lineType:b}=e,x=(e,t,s)=>({width:e,height:e,lineHeight:e-2*h+"px",borderRadius:"50%",[`&${r}-square`]:{borderRadius:s},[`${r}-string`]:{position:"absolute",left:{_skip_check_:!0,value:"50%"},transformOrigin:"0 center"},[`&${r}-icon`]:{fontSize:t,[`> ${a}`]:{margin:0}}});return{[r]:Object.assign(Object.assign(Object.assign(Object.assign({},s(e)),{position:"relative",display:"inline-block",overflow:"hidden",color:n,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:o,border:`${h}px ${b} transparent`,"&-image":{background:"transparent"},[`${t}-image-img`]:{display:"block"}}),x(i,p,d)),{"&-lg":Object.assign({},x(l,g,u)),"&-sm":Object.assign({},x(c,m,f)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},S=e=>{const{componentCls:t,groupBorderColor:r,groupOverlapping:s,groupSpace:a}=e;return{[`${t}-group`]:{display:"inline-flex",[`${t}`]:{borderColor:r},"> *:not(:first-child)":{marginInlineStart:s}},[`${t}-group-popover`]:{[`${t} + ${t}`]:{marginInlineStart:a}}}},v=t("Avatar",(e=>{const{colorTextLightSolid:t,colorTextPlaceholder:s}=e,a=r(e,{avatarBg:s,avatarColor:t});return[x(a),S(a)]}),(e=>{const{controlHeight:t,controlHeightLG:r,controlHeightSM:s,fontSize:a,fontSizeLG:o,fontSizeXL:n,fontSizeHeading3:i,marginXS:l,marginXXS:c,colorBorderBg:p}=e;return{containerSize:t,containerSizeLG:r,containerSizeSM:s,textFontSize:Math.round((o+n)/2),textFontSizeLG:i,textFontSizeSM:a,groupSpace:c,groupOverlapping:-l,groupBorderColor:p}}));var y=globalThis&&globalThis.__rest||function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]])}return r};const j=(t,r)=>{const[s,g]=e.useState(1),[m,d]=e.useState(!1),[u,f]=e.useState(!0),h=e.useRef(null),x=e.useRef(null),S=a(r,h),{getPrefixCls:j,avatar:z}=e.useContext(o),O=e.useContext(b),$=()=>{if(!x.current||!h.current)return;const e=x.current.offsetWidth,r=h.current.offsetWidth;if(0!==e&&0!==r){const{gap:s=4}=t;2*s<r&&g(r-2*s<e?(r-2*s)/e:1)}};e.useEffect((()=>{d(!0)}),[]),e.useEffect((()=>{f(!0),g(1)}),[t.src]),e.useEffect($,[t.gap]);const C=()=>{const{onError:e}=t;!1!==(null==e?void 0:e())&&f(!1)},{prefixCls:E,shape:w,size:k,src:N,srcSet:P,icon:L,className:M,rootClassName:R,alt:F,draggable:G,children:H,crossOrigin:T}=t,B=y(t,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","alt","draggable","children","crossOrigin"]),I=n((e=>{var t,r;return null!==(r=null!==(t=null!=k?k:null==O?void 0:O.size)&&void 0!==t?t:e)&&void 0!==r?r:"default"})),W=Object.keys("object"==typeof I&&I||{}).some((e=>["xs","sm","md","lg","xl","xxl"].includes(e))),X=i(W),_=e.useMemo((()=>{if("object"!=typeof I)return{};const e=l.find((e=>X[e])),t=I[e];return t?{width:t,height:t,lineHeight:`${t}px`,fontSize:L?t/2:18}:{}}),[X,I]),A=j("avatar",E),[q,V]=v(A),Y=c({[`${A}-lg`]:"large"===I,[`${A}-sm`]:"small"===I}),Z=e.isValidElement(N),D=w||(null==O?void 0:O.shape)||"circle",J=c(A,Y,null==z?void 0:z.className,`${A}-${D}`,{[`${A}-image`]:Z||N&&u,[`${A}-icon`]:!!L},M,R,V),K="number"==typeof I?{width:I,height:I,lineHeight:`${I}px`,fontSize:L?I/2:18}:{};let Q;if("string"==typeof N&&u)Q=e.createElement("img",{src:N,draggable:G,srcSet:P,onError:C,alt:F,crossOrigin:T});else if(Z)Q=N;else if(L)Q=L;else if(m||1!==s){const t=`scale(${s}) translateX(-50%)`,r={msTransform:t,WebkitTransform:t,transform:t},a="number"==typeof I?{lineHeight:`${I}px`}:{};Q=e.createElement(p,{onResize:$},e.createElement("span",{className:`${A}-string`,ref:x,style:Object.assign(Object.assign({},a),r)},H))}else Q=e.createElement("span",{className:`${A}-string`,style:{opacity:0},ref:x},H);return delete B.onError,delete B.gap,q(e.createElement("span",Object.assign({},B,{style:Object.assign(Object.assign(Object.assign(Object.assign({},K),_),null==z?void 0:z.style),B.style),className:J,ref:S}),Q))},z=e.forwardRef(j),O=t=>{const{size:r,shape:s}=e.useContext(b),a=e.useMemo((()=>({size:t.size||r,shape:t.shape||s})),[t.size,t.shape,r,s]);return e.createElement(b.Provider,{value:a},t.children)},$=t=>{const{getPrefixCls:r,direction:s}=e.useContext(o),{prefixCls:a,className:n,rootClassName:i,style:l,maxCount:p,maxStyle:d,size:u,shape:f,maxPopoverPlacement:b="top",maxPopoverTrigger:x="hover",children:S}=t,y=r("avatar",a),j=`${y}-group`,[$,C]=v(y),E=c(j,{[`${j}-rtl`]:"rtl"===s},n,i,C),w=g(S).map(((e,t)=>m(e,{key:`avatar-key-${t}`}))),k=w.length;if(p&&p<k){const t=w.slice(0,p),r=w.slice(p,k);return t.push(e.createElement(h,{key:"avatar-popover-key",content:r,trigger:x,placement:b,overlayClassName:`${j}-popover`},e.createElement(z,{style:d},"+"+(k-p)))),$(e.createElement(O,{shape:f,size:u},e.createElement("div",{className:E,style:l},t)))}return $(e.createElement(O,{shape:f,size:u},e.createElement("div",{className:E,style:l},w)))},C=z;C.Group=$;const E=C,w=[{title:u.lorem.words()},{title:u.lorem.words()},{title:u.lorem.words()},{title:u.lorem.words()}];function k(){return d.jsx(f,{size:"small",pagination:{position:"bottom",align:"end"},dataSource:w,renderItem:e=>d.jsx(f.Item,{children:d.jsx(f.Item.Meta,{avatar:d.jsx(E,{shape:"square",size:48,src:u.image.urlLoremFlickr()}),title:e.title,description:u.lorem.sentence()})})})}export{k as default};
